{% extends "base.html" %}
{% block title %}Quiz{% endblock %}
{% block body %}
    <h1 style="margin-top: 5px; margin-bottom: 10px; margin-left: 10px;">A Financial Literacy Quiz</h1>
    <p style="margin-left: 10px;">Hi {{current_user.name }}! Would you like to take to a quiz to check how Financially Literate you are?</p>
    <link rel="stylesheet" href="../static/styles/quiz.css">
    <form action="/quiz" method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        <ol type="1">
            {% for question in quiz %}
                <li>
                    <strong>{{ question['question'] }}</strong>
                    <ol type="A">
                        {% for option in question['options'] %}
                            <li>
                                <label>
                                    <input type="radio" name="{{ question['id'] }}" value="{{ option }}" {% if question['selected'] == option %}checked{% endif %}>
                                    {{ option }}
                                    {% if question['selected'] == option %}
                                        {% if question['selected'] == question['correct_answer'] %}
                                            <span style="color: green;">(Correct)</span>
                                        {% else %}
                                            <span style="color: red;">(Incorrect, correct answer: {{ question['correct_answer'] }})</span>
                                        {% endif %}
                                    {% endif %}
                                </label>
                            </li>
                        {% endfor %}
                        </ol>
                </li>
            {% endfor %}
        </ol>
        <button type="submit">Submit Quiz</button>
    </form>
    <button onclick="window.location.reload();">Refresh Quiz</button>
{% endblock body %}
