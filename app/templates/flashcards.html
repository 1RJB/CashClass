{% extends "base.html" %}

{% block body %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Financial Literacy Flashcards</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div id="flashcard-container" class="d-flex justify-content-center">
        <div class="flashcard" onclick="flipCard()">
            <div class="card front">
                <div class="card-body d-flex align-items-center justify-content-center text-center">
                    <p class="card-text" id="flashcard-question">{{ flashcards[0].question }}</p>
                </div>
            </div>
            <div class="card back">
                <div class="card-body d-flex align-items-center justify-content-center text-center">
                    <p class="card-text" id="flashcard-answer">{{ flashcards[0].answer }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-4">
        <button class="btn btn-outline-primary mr-2" onclick="prevCard()">&laquo; Previous</button>
        <button class="btn btn-outline-primary ml-2" onclick="nextCard()">Next &raquo;</button>
    </div>

    <div class="text-center mt-3">
        <p id="progress">Card 1 of {{ flashcards|length }}</p>
        <div class="progress mx-auto" style="width: 50%;">
            <div id="progress-bar" class="progress-bar bg-primary" role="progressbar" style="width: 0%;"></div>
        </div>
    </div>

    <div class="text-center mt-5">
        <button class="btn btn-success" data-toggle="modal" data-target="#addFlashcardModal">Add New Flashcard</button>
    </div>
</div>
{% endblock %}

